---
layout: math
title: "Programming Tips: ビット演算"
date: 2024-04-14
use_math: true
---

# 導入

##  論理演算

0 と 1 のいずれかの値を取る変数、すなわち１ビットの変数 x, y に対し、
演算 $$ \lnot x $$, $$ x \land y $$, $$ x \lor y $$, $$ x \oplus y $$ を
否定 (not) 、論理積 (and) 、論理和 (or) 、排他的論理和 (xor) と呼び、
以下のように定義される。

- 否定 (not)

| $$x$$ | $$ \lnot x $$|
|------:|:-------------|
|     0 | 1 |
|     1 | 0 |

- 論理積 (and)

| $$x$$ | $$y$$ | $$ x \land y $$ |
|------:|------:|:----------------|
|    0  |     0 | 0 |
|    0  |     1 | 0 |
|    1  |     0 | 0 |
|    1  |     1 | 1 |


- 論理和 (or)

| $$x$$ | $$y$$ | $$ x \lor y $$ |
|------:|------:|:----------------|
|    0  |     0 | 0 |
|    0  |     1 | 1 |
|    1  |     0 | 1 |
|    1  |     1 | 1 |

- 排他的論理和 (exclusive or - xor)

| $$x$$ | $$y$$ | $$ x \oplus y $$ |
|------:|------:|:----------------|
|    0  |     0 | 0 |
|    0  |     1 | 1 |
|    1  |     0 | 1 |
|    1  |     1 | 0 |

##  ビット演算 (Bitwise Operators)

- n ビットの変数 x, y に対し、各ビット毎 (bit-wise) に
  上記の論理演算を適用すること。
- C 言語および多くの言語では、それぞれ ~, &, \|, ^ 演算子が該当する。

以下に例を示す

- bitwise not

|    |  二進数  | 16進数 | 10進数 |
|---:|---------:|-------:|-------:|
|  x | 00001111 |  0x0f  |    15  |
| ~x | 11110000 |  0xf0  |   240  |

- bitwise and

|       |  二進数  | 16進数 | 10進数 |
|------:|---------:|-------:|-------:|
|     x | 01010101 |  0x55  |    85  |
|     y | 00001111 |  0x0f  |    15  |
| x & y | 00000101 |  0x05  |     5  |

- bitwise or

|       |  二進数  | 16進数 | 10進数 |
|------:|---------:|-------:|-------:|
|     x | 01010101 |  0x55  |    85  |
|     y | 00001111 |  0x07  |     7  |
| x & y | 01011111 |  0x5f  |    95  |

- bitwise xor

|       |  二進数  | 16進数 | 10進数 |
|------:|---------:|-------:|-------:|
|     x | 01010101 |  0x55  |    85  |
|     y | 00001111 |  0x07  |     7  |
| x ^ y | 01011010 |  0x5a  |    90  |
